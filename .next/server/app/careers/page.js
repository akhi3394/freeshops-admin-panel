(()=>{var e={};e.id=846,e.ids=[846],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15801:(e,r,i)=>{"use strict";i.d(r,{A:()=>n});var t=i(60687);i(43210);var s=i(88931),o=i(66803);let n=()=>(0,t.jsx)(s.A,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:1300},children:(0,t.jsx)(o.A,{sx:{color:"#FF5722"}})})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38280:(e,r,i)=>{Promise.resolve().then(i.bind(i,84259))},40035:(e,r,i)=>{"use strict";i.d(r,{d:()=>s});var t=i(43210);let s=(e,r)=>{let[i,s]=(0,t.useState)(e);return(0,t.useEffect)(()=>{let i=setTimeout(()=>{s(e)},r);return()=>{clearTimeout(i)}},[e,r]),i}},44433:(e,r,i)=>{"use strict";i.r(r),i.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=i(65239),s=i(48088),o=i(88170),n=i.n(o),a=i(30893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);i.d(r,l);let d={children:["",{children:["careers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,90069)),"/home/akhil/freeshipps-admin-panel/app/careers/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,58014)),"/home/akhil/freeshipps-admin-panel/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/akhil/freeshipps-admin-panel/app/careers/page.tsx"],x={require:i,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/careers/page",pathname:"/careers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},46055:(e,r,i)=>{"use strict";i.r(r),i.d(r,{default:()=>s});var t=i(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74728:(e,r,i)=>{Promise.resolve().then(i.bind(i,90069))},79551:e=>{"use strict";e.exports=require("url")},84259:(e,r,i)=>{"use strict";i.r(r),i.d(r,{default:()=>F});var t=i(60687),s=i(76180),o=i.n(s),n=i(43210),a=i(76897),l=i(72132),d=i(88931),c=i(87088),x=i(16184),p=i(83685),h=i(86562),u=i(30076),f=i(72318),m=i(91433),g=i(37204),b=i(24296),j=i(90764),A=i(63646),k=i(27674),C=i(97887),v=i(43323),w=i(55581),y=i(16189),S=i(60528),_=i(15801),R=i(40035);let F=()=>{let{searchTerm:e}=(0,w.useSearch)();console.log(e,"searchTerm");let r=(0,y.usePathname)(),[i,s]=(0,n.useState)(0),[F,I]=(0,n.useState)(10),[P,M]=(0,n.useState)([]),[W,N]=(0,n.useState)(!1),[z,E]=(0,n.useState)(!1),[O,D]=(0,n.useState)(null),[q,T]=(0,n.useState)({title:"",description:"",image:null}),[B,L]=(0,n.useState)({title:"",description:"",image:null}),[G,U]=(0,n.useState)(null),[H,V]=(0,n.useState)(null),[X,J]=(0,n.useState)(!1),[K,Y]=(0,n.useState)(null),[Q,Z]=(0,n.useState)(!1),$=(0,R.d)(e,500),{data:ee,isLoading:er,error:ei,refetch:et,isFetching:es}=(0,S.VA)({search:$,page:i+1,limit:F},{refetchOnMountOrArgChange:!0}),[eo,{isLoading:en,error:ea}]=(0,S.C1)(),[el,{isLoading:ed,error:ec}]=(0,S.u2)(),[ex,{isLoading:ep,error:eh}]=(0,S.WV)(),eu=ee?.data||[];(0,n.useEffect)(()=>()=>{s(0),M([])},[r]),(0,n.useEffect)(()=>{et()},[$,et]),(0,n.useEffect)(()=>{if(O&&eu){let e=eu.find(e=>e._id===O);e&&(L({title:e.title||"",description:e.description||"",image:null}),Z(!1),E(!0),console.log("Career data fetched, opening Edit form"))}},[O,eu]);let ef=e=>{let{name:r,value:i,files:t}=e.target;"image"===r&&t?T({...q,image:t[0]}):T({...q,[r]:i})},em=e=>{let{name:r,value:i,files:t}=e.target;"image"===r&&t?L({...B,image:t[0]}):L({...B,[r]:i})},eg=async()=>{if(!q.title||!q.description||!q.image)return void U("All fields are required");try{await eo({title:q.title,description:q.description,image:q.image}).unwrap(),N(!1),T({title:"",description:"",image:null}),U(null)}catch(e){U(e?.data?.message||"Failed to create career")}},eb=async()=>{if(!B.title||!B.description)return void V("Title and description are required");if(O)try{await el({id:O,career:{title:B.title,description:B.description,image:B.image}}).unwrap(),E(!1),D(null),L({title:"",description:"",image:null}),V(null)}catch(e){V(e?.data?.message||"Failed to update career")}},ej=e=>{let r=P.indexOf(e),i=[];M(-1===r?[...P,e]:P.filter(r=>r!==e))},eA=e=>-1!==P.indexOf(e),ek=e=>{D(e),E(!1),console.log("Edit clicked for career ID:",e)},eC=()=>{E(!1),D(null),L({title:"",description:"",image:null}),V(null),Z(!1),console.log("Edit form closed")},ev=e=>{Y(e),J(!0)},ew=async()=>{if(K)try{await ex(K).unwrap(),J(!1),Y(null)}catch(e){alert(e?.data?.message||"Failed to delete career")}};return(0,t.jsxs)(d.A,{sx:{height:"300px",padding:"20px",backgroundColor:"#f2f2f2",borderRadius:"8px",position:"relative",backgroundImage:'url("/bacground.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"100% 300px",backgroundPosition:"top"},children:[(0,t.jsx)(o(),{id:"c7f37cfc29c28338",children:".shimmer{background:#f6f7f8;background-image:-webkit-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:-moz-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:-o-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:linear-gradient(to right,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-repeat:no-repeat;-webkit-background-size:800px 104px;-moz-background-size:800px 104px;-o-background-size:800px 104px;background-size:800px 104px;-webkit-animation:shimmer 1.5s infinite linear;-moz-animation:shimmer 1.5s infinite linear;-o-animation:shimmer 1.5s infinite linear;animation:shimmer 1.5s infinite linear}@-webkit-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@-moz-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@-o-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}"}),(0,t.jsx)(d.A,{children:(0,t.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingX:"10px"},children:[(0,t.jsx)(c.A,{variant:"h5",sx:{fontWeight:"bold",color:"rgba(32, 34, 36, 1)",fontSize:"32px"},children:"Careers"}),(0,t.jsxs)(d.A,{children:[(0,t.jsxs)(x.A,{variant:"contained",color:"primary",onClick:()=>N(!0),sx:{mr:1,backgroundColor:"#2d98a6",color:"#fff"},children:[(0,t.jsx)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},className:"jsx-c7f37cfc29c28338",children:(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-c7f37cfc29c28338",children:[(0,t.jsx)("path",{d:"M5 12H19",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-c7f37cfc29c28338"}),(0,t.jsx)("path",{d:"M12 5V19",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-c7f37cfc29c28338"})]})}),(0,t.jsx)("span",{style:{fontSize:"16px",color:"rgba(255, 255, 255, 1)",font:"Nunito Sans"},className:"jsx-c7f37cfc29c28338",children:"Add new career"})]}),P.length>0&&(0,t.jsx)(p.A,{onClick:()=>{console.log("Delete careers with IDs:",P),M([])},sx:{color:"#fff"},children:(0,t.jsx)(v.A,{})})]})]})}),(0,t.jsx)(d.A,{sx:{display:"flex",justifyContent:"center"},children:(0,t.jsx)(d.A,{sx:{width:"100%",maxHeight:"700px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",backgroundColor:"#fff",marginTop:"10px"},children:(0,t.jsx)(d.A,{sx:{overflowX:"auto",maxHeight:"700px",overflowY:"auto"},children:(0,t.jsxs)(h.A,{sx:{minWidth:"800px"},children:[(0,t.jsx)(u.A,{children:(0,t.jsxs)(a.A,{sx:{backgroundColor:"#f5f5f5",borderBottom:"1px solid #e0e0e0"},children:[(0,t.jsx)(l.A,{padding:"checkbox",children:(0,t.jsx)(f.A,{indeterminate:P.length>0&&P.length<eu.length,checked:eu.length>0&&P.length===eu.length,onChange:e=>{if(e.target.checked)return void M(eu.map(e=>e._id));M([])}})}),(0,t.jsx)(l.A,{sx:{width:"60px",fontWeight:"bold"},children:"Image"}),(0,t.jsx)(l.A,{sx:{width:"120px",fontWeight:"bold"},children:"Title"}),(0,t.jsx)(l.A,{sx:{fontWeight:"bold"},children:"Description"}),(0,t.jsx)(l.A,{sx:{width:"120px",fontWeight:"bold"},children:"Operations"})]})}),(0,t.jsx)(m.A,{children:er||es?Array.from({length:5},(e,r)=>(0,t.jsxs)(a.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:[(0,t.jsx)(l.A,{padding:"checkbox",children:(0,t.jsx)(d.A,{className:"shimmer",sx:{width:"20px",height:"20px",borderRadius:"4px"}})}),(0,t.jsx)(l.A,{sx:{width:"60px"},children:(0,t.jsx)(d.A,{className:"shimmer",sx:{width:"40px",height:"40px",borderRadius:"4px"}})}),(0,t.jsx)(l.A,{sx:{width:"120px"},children:(0,t.jsx)(d.A,{className:"shimmer",sx:{width:"80%",height:"20px",borderRadius:"4px"}})}),(0,t.jsx)(l.A,{children:(0,t.jsx)(d.A,{className:"shimmer",sx:{width:"80%",height:"20px",borderRadius:"4px"}})}),(0,t.jsx)(l.A,{sx:{width:"120px"},children:(0,t.jsx)(d.A,{className:"shimmer",sx:{width:"80px",height:"20px",borderRadius:"4px"}})})]},r)):ei?(0,t.jsx)(a.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:(0,t.jsxs)(l.A,{colSpan:5,align:"center",children:["Failed to load careers: ",JSON.stringify(ei)]})}):0===eu.length?(0,t.jsx)(a.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:(0,t.jsx)(l.A,{colSpan:5,align:"center",children:"No careers found"})}):eu.map(e=>(0,t.jsxs)(a.A,{selected:eA(e._id),sx:{borderBottom:"1px solid #e0e0e0","&:hover":{backgroundColor:"#f9f9f9"}},children:[(0,t.jsx)(l.A,{padding:"checkbox",children:(0,t.jsx)(f.A,{checked:eA(e._id),onChange:()=>ej(e._id)})}),(0,t.jsx)(l.A,{sx:{width:"60px"},children:(0,t.jsx)("img",{src:e.image,alt:e.title,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"},className:"jsx-c7f37cfc29c28338"})}),(0,t.jsx)(l.A,{sx:{width:"120px"},children:e.title}),(0,t.jsx)(l.A,{sx:{width:"250px"},children:e.description}),(0,t.jsxs)(l.A,{sx:{width:"120px"},children:[(0,t.jsx)(p.A,{onClick:()=>ek(e._id),children:(0,t.jsx)(c.A,{sx:{backgroundColor:"rgba(0, 182, 155, 0.2)",width:"56.78px",height:"27.37px",borderRadius:"4.5px",color:"#00B69B",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700},children:"Edit"})}),(0,t.jsx)(p.A,{onClick:()=>ev(e._id),children:(0,t.jsx)(c.A,{sx:{backgroundColor:"rgba(249, 60, 101, 0.2)",width:"70.97px",height:"27.37px",borderRadius:"4.5px",color:"rgba(248, 0, 54, 1)",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700},children:"Delete"})})]})]},e._id))})]})})})}),(0,t.jsxs)(g.A,{open:W,onClose:()=>N(!1),maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(b.A,{children:"Add New Career"}),(0,t.jsx)(j.A,{children:(0,t.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,t.jsx)(A.A,{label:"Title",name:"title",value:q.title,onChange:ef,fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsx)(A.A,{label:"Description",name:"description",value:q.description,onChange:ef,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsx)(A.A,{label:"Image",name:"image",type:"file",onChange:ef,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),G&&(0,t.jsx)(c.A,{color:"error",sx:{mt:1},children:G})]})}),(0,t.jsxs)(k.A,{children:[(0,t.jsx)(x.A,{onClick:()=>N(!1),color:"secondary",children:"Cancel"}),(0,t.jsx)(x.A,{onClick:eg,color:"primary",variant:"contained",disabled:en,children:en?"Saving...":"Save"})]})]}),(0,t.jsxs)(g.A,{open:z,onClose:eC,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(b.A,{children:"Edit Career"}),(0,t.jsx)(j.A,{children:(0,t.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,t.jsx)(A.A,{label:"Title",name:"title",value:B.title,onChange:em,fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsx)(A.A,{label:"Description",name:"description",value:B.description,onChange:em,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[O&&eu.find(e=>e._id===O)?.image&&!B.image&&(0,t.jsx)("img",{src:eu.find(e=>e._id===O).image,alt:B.title,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"},className:"jsx-c7f37cfc29c28338"}),B.image&&(0,t.jsx)("img",{src:URL.createObjectURL(B.image),alt:"New Image Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"},className:"jsx-c7f37cfc29c28338"}),(0,t.jsx)(A.A,{label:"Image",name:"image",type:"file",onChange:em,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}})]}),H&&(0,t.jsx)(c.A,{color:"error",sx:{mt:1},children:H})]})}),(0,t.jsxs)(k.A,{children:[(0,t.jsx)(x.A,{onClick:eC,color:"secondary",children:"Cancel"}),(0,t.jsx)(x.A,{onClick:eb,color:"primary",variant:"contained",disabled:ed,children:ed?"Updating...":"Update"})]})]}),(0,t.jsxs)(g.A,{open:X,onClose:()=>J(!1),children:[(0,t.jsx)(b.A,{children:"Confirm Delete"}),(0,t.jsxs)(j.A,{children:[(0,t.jsx)(C.A,{children:"Are you sure you want to delete this career? This action cannot be undone."}),eh&&(0,t.jsx)(c.A,{color:"error",sx:{mt:1},children:"Failed to delete career"})]}),(0,t.jsxs)(k.A,{children:[(0,t.jsx)(x.A,{onClick:()=>J(!1),color:"secondary",children:"Cancel"}),(0,t.jsx)(x.A,{onClick:ew,color:"error",variant:"contained",disabled:ep,children:ep?"Deleting...":"Delete"})]})]}),(Q||ed||ep||en)&&(0,t.jsx)(_.A,{})]})}},90069:(e,r,i)=>{"use strict";i.r(r),i.d(r,{default:()=>t});let t=(0,i(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/akhil/freeshipps-admin-panel/app/careers/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/akhil/freeshipps-admin-panel/app/careers/page.tsx","default")}};var r=require("../../webpack-runtime.js");r.C(e);var i=e=>r(r.s=e),t=r.X(0,[447,278,658,484,947],()=>i(44433));module.exports=t})();