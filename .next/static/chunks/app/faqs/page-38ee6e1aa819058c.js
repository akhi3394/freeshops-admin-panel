(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110],{379:(e,i,r)=>{"use strict";r.r(i),r.d(i,{default:()=>Q});var n=r(5155),o=r(9137),s=r.n(o),t=r(2115),l=r(8023),d=r(4263),a=r(4581),c=r(700),x=r(8534),h=r(3127),u=r(7976),f=r(6033),p=r(3613),g=r(9776),m=r(6278),A=r(4492),j=r(9927),b=r(3577),w=r(1977),k=r(6871),C=r(9505),v=r(5555),y=r(5695),F=r(1140),S=r(6521),q=r(425);let Q=()=>{let{searchTerm:e}=(0,v.useSearch)();console.log(e,"searchTerm");let i=(0,y.usePathname)(),[r,o]=(0,t.useState)(0),[Q,N]=(0,t.useState)(10),[W,O]=(0,t.useState)([]),[_,E]=(0,t.useState)(!1),[I,R]=(0,t.useState)(!1),[z,M]=(0,t.useState)(null),[D,B]=(0,t.useState)({question:"",answer:""}),[T,H]=(0,t.useState)({question:"",answer:""}),[J,L]=(0,t.useState)(null),[P,U]=(0,t.useState)(null),[X,$]=(0,t.useState)(!1),[G,V]=(0,t.useState)(null),[Y,K]=(0,t.useState)(!1),Z=(0,q.d)(e,500),{data:ee,isLoading:ei,error:er,refetch:en,isFetching:eo}=(0,F.$W)({search:Z,page:r+1,limit:Q},{refetchOnMountOrArgChange:!0}),[es,{isLoading:et,error:el}]=(0,F.J$)(),[ed,{isLoading:ea,error:ec}]=(0,F._2)(),[ex,{isLoading:eh,error:eu}]=(0,F.we)(),{data:ef,error:ep,isFetching:eg,refetch:em}=(0,F.Gc)(z,{skip:!z,refetchOnMountOrArgChange:!0}),eA=(null==ee?void 0:ee.data)||[];null==ee||ee.data,(0,t.useEffect)(()=>()=>{o(0),O([])},[i]),(0,t.useEffect)(()=>{en()},[Z,en]),(0,t.useEffect)(()=>{if(eg)K(!0),console.log("Fetching FAQ data...");else if(ef){var e,i;H({question:(null==ef||null==(e=ef.data)?void 0:e.question)||"",answer:(null==ef||null==(i=ef.data)?void 0:i.answer)||""}),K(!1),R(!0),console.log("FAQ data fetched, opening Edit form")}else ep&&(K(!1),console.log("Error fetching FAQ:",ep))},[eg,ef,ep]);let ej=e=>{let{name:i,value:r}=e.target;B({...D,[i]:r})},eb=e=>{let{name:i,value:r}=e.target;H({...T,[i]:r})},ew=async()=>{if(!D.question||!D.answer)return void L("All fields are required");try{await es({question:D.question,answer:D.answer}).unwrap(),E(!1),B({question:"",answer:""}),L(null)}catch(i){var e;L((null==i||null==(e=i.data)?void 0:e.message)||"Failed to create FAQ")}},ek=async()=>{if(!T.question||!T.answer)return void U("All fields are required");if(z)try{await ed({id:z,faq:{question:T.question,answer:T.answer}}).unwrap(),R(!1),M(null),H({question:"",answer:""}),U(null)}catch(i){var e;U((null==i||null==(e=i.data)?void 0:e.message)||"Failed to update FAQ")}},eC=e=>{let i=W.indexOf(e),r=[];O(-1===i?[...W,e]:W.filter(i=>i!==e))},ev=e=>-1!==W.indexOf(e),ey=e=>{M(e),R(!1),em(),console.log("Edit clicked for FAQ ID:",e)},eF=()=>{R(!1),M(null),H({question:"",answer:""}),U(null),K(!1),console.log("Edit form closed")},eS=e=>{V(e),$(!0)},eq=async()=>{if(G)try{await ex(G).unwrap(),$(!1),V(null)}catch(i){var e;alert((null==i||null==(e=i.data)?void 0:e.message)||"Failed to delete FAQ")}};return(0,n.jsxs)(a.A,{sx:{height:"300px",padding:"20px",backgroundColor:"#f2f2f2",borderRadius:"8px",position:"relative",backgroundImage:'url("/bacground.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"100% 300px",backgroundPosition:"top"},children:[(0,n.jsx)(s(),{id:"c7f37cfc29c28338",children:".shimmer{background:#f6f7f8;background-image:-webkit-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:-moz-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:-o-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:linear-gradient(to right,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-repeat:no-repeat;-webkit-background-size:800px 104px;-moz-background-size:800px 104px;-o-background-size:800px 104px;background-size:800px 104px;-webkit-animation:shimmer 1.5s infinite linear;-moz-animation:shimmer 1.5s infinite linear;-o-animation:shimmer 1.5s infinite linear;animation:shimmer 1.5s infinite linear}@-webkit-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@-moz-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@-o-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}"}),(0,n.jsx)(a.A,{children:(0,n.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingX:"10px"},children:[(0,n.jsx)(c.A,{variant:"h5",sx:{fontWeight:"bold",color:"rgba(32, 34, 36, 1)",fontSize:"32px"},children:"FAQs"}),(0,n.jsxs)(a.A,{children:[(0,n.jsxs)(x.A,{variant:"contained",color:"primary",onClick:()=>E(!0),sx:{mr:1,backgroundColor:"#2d98a6",color:"#fff"},children:[(0,n.jsx)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},className:"jsx-c7f37cfc29c28338",children:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-c7f37cfc29c28338",children:[(0,n.jsx)("path",{d:"M5 12H19",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-c7f37cfc29c28338"}),(0,n.jsx)("path",{d:"M12 5V19",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-c7f37cfc29c28338"})]})}),(0,n.jsx)("span",{style:{fontSize:"16px",color:"rgba(255, 255, 255, 1)",font:"Nunito Sans"},className:"jsx-c7f37cfc29c28338",children:"Add new FAQ"})]}),W.length>0&&(0,n.jsx)(h.A,{onClick:()=>{console.log("Delete FAQs with IDs:",W),O([])},sx:{color:"#fff"},children:(0,n.jsx)(C.A,{})})]})]})}),(0,n.jsx)(a.A,{sx:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(a.A,{sx:{width:"100%",maxHeight:"700px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",backgroundColor:"#fff",marginTop:"10px"},children:(0,n.jsx)(a.A,{sx:{overflowX:"auto",maxHeight:"700px",overflowY:"auto"},children:(0,n.jsxs)(u.A,{sx:{minWidth:"800px"},children:[(0,n.jsx)(f.A,{children:(0,n.jsxs)(l.A,{sx:{backgroundColor:"#f5f5f5",borderBottom:"1px solid #e0e0e0"},children:[(0,n.jsx)(d.A,{padding:"checkbox",children:(0,n.jsx)(p.A,{indeterminate:W.length>0&&W.length<eA.length,checked:eA.length>0&&W.length===eA.length,onChange:e=>{if(e.target.checked)return void O(eA.map(e=>e._id));O([])}})}),(0,n.jsx)(d.A,{sx:{width:"120px",fontWeight:"bold"},children:"Question"}),(0,n.jsx)(d.A,{sx:{fontWeight:"bold"},children:"Answer"}),(0,n.jsx)(d.A,{sx:{width:"120px",fontWeight:"bold"},children:"Operations"})]})}),(0,n.jsx)(g.A,{children:ei||eo?Array.from({length:5},(e,i)=>(0,n.jsxs)(l.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:[(0,n.jsx)(d.A,{padding:"checkbox",children:(0,n.jsx)(a.A,{className:"shimmer",sx:{width:"20px",height:"20px",borderRadius:"4px"}})}),(0,n.jsx)(d.A,{sx:{width:"120px"},children:(0,n.jsx)(a.A,{className:"shimmer",sx:{width:"80%",height:"20px",borderRadius:"4px"}})}),(0,n.jsx)(d.A,{children:(0,n.jsx)(a.A,{className:"shimmer",sx:{width:"80%",height:"20px",borderRadius:"4px"}})}),(0,n.jsx)(d.A,{sx:{width:"120px"},children:(0,n.jsx)(a.A,{className:"shimmer",sx:{width:"80px",height:"20px",borderRadius:"4px"}})})]},i)):er?(0,n.jsx)(l.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:(0,n.jsxs)(d.A,{colSpan:4,align:"center",children:["Failed to load FAQs: ",JSON.stringify(er)]})}):0===eA.length?(0,n.jsx)(l.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:(0,n.jsx)(d.A,{colSpan:4,align:"center",children:"No FAQs found"})}):eA.map(e=>(0,n.jsxs)(l.A,{selected:ev(e._id),sx:{borderBottom:"1px solid #e0e0e0","&:hover":{backgroundColor:"#f9f9f9"}},children:[(0,n.jsx)(d.A,{padding:"checkbox",children:(0,n.jsx)(p.A,{checked:ev(e._id),onChange:()=>eC(e._id)})}),(0,n.jsx)(d.A,{sx:{width:"120px"},children:e.question}),(0,n.jsx)(d.A,{sx:{width:"250px"},children:e.answer}),(0,n.jsxs)(d.A,{sx:{width:"120px"},children:[(0,n.jsx)(h.A,{onClick:()=>ey(e._id),children:(0,n.jsx)(c.A,{sx:{backgroundColor:"rgba(0, 182, 155, 0.2)",width:"56.78px",height:"27.37px",borderRadius:"4.5px",color:"#00B69B",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700},children:"Edit"})}),(0,n.jsx)(h.A,{onClick:()=>eS(e._id),children:(0,n.jsx)(c.A,{sx:{backgroundColor:"rgba(249, 60, 101, 0.2)",width:"70.97px",height:"27.37px",borderRadius:"4.5px",color:"rgba(248, 0, 54, 1)",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700},children:"Delete"})})]})]},e._id))})]})})})}),(0,n.jsxs)(m.A,{open:_,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(A.A,{children:"Add New FAQ"}),(0,n.jsx)(j.A,{children:(0,n.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,n.jsx)(b.A,{label:"Question",name:"question",value:D.question,onChange:ej,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,n.jsx)(b.A,{label:"Answer",name:"answer",value:D.answer,onChange:ej,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),J&&(0,n.jsx)(c.A,{color:"error",sx:{mt:1},children:J})]})}),(0,n.jsxs)(w.A,{children:[(0,n.jsx)(x.A,{onClick:()=>E(!1),color:"secondary",children:"Cancel"}),(0,n.jsx)(x.A,{onClick:ew,color:"primary",variant:"contained",disabled:et,children:et?"Saving...":"Save"})]})]}),(0,n.jsxs)(m.A,{open:I,onClose:eF,maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(A.A,{children:"Edit FAQ"}),(0,n.jsx)(j.A,{children:ep?(0,n.jsxs)(c.A,{color:"error",children:["Failed to load FAQ: ",JSON.stringify(ep)]}):(0,n.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,n.jsx)(b.A,{label:"Question",name:"question",value:T.question,onChange:eb,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,n.jsx)(b.A,{label:"Answer",name:"answer",value:T.answer,onChange:eb,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),P&&(0,n.jsx)(c.A,{color:"error",sx:{mt:1},children:P})]})}),(0,n.jsxs)(w.A,{children:[(0,n.jsx)(x.A,{onClick:eF,color:"secondary",children:"Cancel"}),(0,n.jsx)(x.A,{onClick:ek,color:"primary",variant:"contained",disabled:ea,children:ea?"Updating...":"Update"})]})]}),(0,n.jsxs)(m.A,{open:X,onClose:()=>$(!1),children:[(0,n.jsx)(A.A,{children:"Confirm Delete"}),(0,n.jsxs)(j.A,{children:[(0,n.jsx)(k.A,{children:"Are you sure you want to delete this FAQ? This action cannot be undone."}),eu&&(0,n.jsx)(c.A,{color:"error",sx:{mt:1},children:"Failed to delete FAQ"})]}),(0,n.jsxs)(w.A,{children:[(0,n.jsx)(x.A,{onClick:()=>$(!1),color:"secondary",children:"Cancel"}),(0,n.jsx)(x.A,{onClick:eq,color:"error",variant:"contained",disabled:eh,children:eh?"Deleting...":"Delete"})]})]}),(Y||ea||eh||et)&&(0,n.jsx)(S.A,{})]})}},425:(e,i,r)=>{"use strict";r.d(i,{d:()=>o});var n=r(2115);let o=(e,i)=>{let[r,o]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let r=setTimeout(()=>{o(e)},i);return()=>{clearTimeout(r)}},[e,i]),r}},6521:(e,i,r)=>{"use strict";r.d(i,{A:()=>t});var n=r(5155);r(2115);var o=r(4581),s=r(4426);let t=()=>(0,n.jsx)(o.A,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:1300},children:(0,n.jsx)(s.A,{sx:{color:"#FF5722"}})})},8288:(e,i,r)=>{Promise.resolve().then(r.bind(r,379))}},e=>{var i=i=>e(e.s=i);e.O(0,[920,516,555,441,684,358],()=>i(8288)),_N_E=e.O()}]);