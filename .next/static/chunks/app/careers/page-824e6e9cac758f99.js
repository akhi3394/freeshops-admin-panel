(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{425:(e,i,r)=>{"use strict";r.d(i,{d:()=>o});var t=r(2115);let o=(e,i)=>{let[r,o]=(0,t.useState)(e);return(0,t.useEffect)(()=>{let r=setTimeout(()=>{o(e)},i);return()=>{clearTimeout(r)}},[e,i]),r}},3571:(e,i,r)=>{Promise.resolve().then(r.bind(r,8641))},6521:(e,i,r)=>{"use strict";r.d(i,{A:()=>l});var t=r(5155);r(2115);var o=r(4581),s=r(4426);let l=()=>(0,t.jsx)(o.A,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:1300},children:(0,t.jsx)(s.A,{sx:{color:"#FF5722"}})})},8641:(e,i,r)=>{"use strict";r.r(i),r.d(i,{default:()=>N});var t=r(5155),o=r(9137),s=r.n(o),l=r(2115),n=r(8023),d=r(4263),a=r(4581),c=r(700),x=r(8534),h=r(3127),f=r(7976),u=r(6033),p=r(3613),g=r(9776),m=r(6278),b=r(4492),j=r(9927),A=r(3577),k=r(1977),C=r(6871),w=r(9505),v=r(5555),y=r(5695),S=r(3042),F=r(6521),I=r(425);let N=()=>{var e;let{searchTerm:i}=(0,v.useSearch)();console.log(i,"searchTerm");let r=(0,y.usePathname)(),[o,N]=(0,l.useState)(0),[R,W]=(0,l.useState)(10),[_,M]=(0,l.useState)([]),[O,D]=(0,l.useState)(!1),[z,E]=(0,l.useState)(!1),[T,B]=(0,l.useState)(null),[L,P]=(0,l.useState)({title:"",description:"",image:null}),[U,H]=(0,l.useState)({title:"",description:"",image:null}),[V,q]=(0,l.useState)(null),[X,J]=(0,l.useState)(null),[Y,G]=(0,l.useState)(!1),[K,Q]=(0,l.useState)(null),[Z,$]=(0,l.useState)(!1),ee=(0,I.d)(i,500),{data:ei,isLoading:er,error:et,refetch:eo,isFetching:es}=(0,S.VA)({search:ee,page:o+1,limit:R},{refetchOnMountOrArgChange:!0}),[el,{isLoading:en,error:ed}]=(0,S.C1)(),[ea,{isLoading:ec,error:ex}]=(0,S.u2)(),[eh,{isLoading:ef,error:eu}]=(0,S.WV)(),ep=(null==ei?void 0:ei.data)||[];(0,l.useEffect)(()=>()=>{N(0),M([])},[r]),(0,l.useEffect)(()=>{eo()},[ee,eo]),(0,l.useEffect)(()=>{if(T&&ep){let e=ep.find(e=>e._id===T);e&&(H({title:e.title||"",description:e.description||"",image:null}),$(!1),E(!0),console.log("Career data fetched, opening Edit form"))}},[T,ep]);let eg=e=>{let{name:i,value:r,files:t}=e.target;"image"===i&&t?P({...L,image:t[0]}):P({...L,[i]:r})},em=e=>{let{name:i,value:r,files:t}=e.target;"image"===i&&t?H({...U,image:t[0]}):H({...U,[i]:r})},eb=async()=>{if(!L.title||!L.description||!L.image)return void q("All fields are required");try{await el({title:L.title,description:L.description,image:L.image}).unwrap(),D(!1),P({title:"",description:"",image:null}),q(null)}catch(i){var e;q((null==i||null==(e=i.data)?void 0:e.message)||"Failed to create career")}},ej=async()=>{if(!U.title||!U.description)return void J("Title and description are required");if(T)try{await ea({id:T,career:{title:U.title,description:U.description,image:U.image}}).unwrap(),E(!1),B(null),H({title:"",description:"",image:null}),J(null)}catch(i){var e;J((null==i||null==(e=i.data)?void 0:e.message)||"Failed to update career")}},eA=e=>{let i=_.indexOf(e),r=[];M(-1===i?[..._,e]:_.filter(i=>i!==e))},ek=e=>-1!==_.indexOf(e),eC=e=>{B(e),E(!1),console.log("Edit clicked for career ID:",e)},ew=()=>{E(!1),B(null),H({title:"",description:"",image:null}),J(null),$(!1),console.log("Edit form closed")},ev=e=>{Q(e),G(!0)},ey=async()=>{if(K)try{await eh(K).unwrap(),G(!1),Q(null)}catch(i){var e;alert((null==i||null==(e=i.data)?void 0:e.message)||"Failed to delete career")}};return(0,t.jsxs)(a.A,{sx:{height:"300px",padding:"20px",backgroundColor:"#f2f2f2",borderRadius:"8px",position:"relative",backgroundImage:'url("/bacground.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"100% 300px",backgroundPosition:"top"},children:[(0,t.jsx)(s(),{id:"c7f37cfc29c28338",children:".shimmer{background:#f6f7f8;background-image:-webkit-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:-moz-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:-o-linear-gradient(left,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-image:linear-gradient(to right,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-repeat:no-repeat;-webkit-background-size:800px 104px;-moz-background-size:800px 104px;-o-background-size:800px 104px;background-size:800px 104px;-webkit-animation:shimmer 1.5s infinite linear;-moz-animation:shimmer 1.5s infinite linear;-o-animation:shimmer 1.5s infinite linear;animation:shimmer 1.5s infinite linear}@-webkit-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@-moz-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@-o-keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@keyframes shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}"}),(0,t.jsx)(a.A,{children:(0,t.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingX:"10px"},children:[(0,t.jsx)(c.A,{variant:"h5",sx:{fontWeight:"bold",color:"rgba(32, 34, 36, 1)",fontSize:"32px"},children:"Careers"}),(0,t.jsxs)(a.A,{children:[(0,t.jsxs)(x.A,{variant:"contained",color:"primary",onClick:()=>D(!0),sx:{mr:1,backgroundColor:"#2d98a6",color:"#fff"},children:[(0,t.jsx)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},className:"jsx-c7f37cfc29c28338",children:(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-c7f37cfc29c28338",children:[(0,t.jsx)("path",{d:"M5 12H19",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-c7f37cfc29c28338"}),(0,t.jsx)("path",{d:"M12 5V19",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-c7f37cfc29c28338"})]})}),(0,t.jsx)("span",{style:{fontSize:"16px",color:"rgba(255, 255, 255, 1)",font:"Nunito Sans"},className:"jsx-c7f37cfc29c28338",children:"Add new career"})]}),_.length>0&&(0,t.jsx)(h.A,{onClick:()=>{console.log("Delete careers with IDs:",_),M([])},sx:{color:"#fff"},children:(0,t.jsx)(w.A,{})})]})]})}),(0,t.jsx)(a.A,{sx:{display:"flex",justifyContent:"center"},children:(0,t.jsx)(a.A,{sx:{width:"100%",maxHeight:"700px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden",backgroundColor:"#fff",marginTop:"10px"},children:(0,t.jsx)(a.A,{sx:{overflowX:"auto",maxHeight:"700px",overflowY:"auto"},children:(0,t.jsxs)(f.A,{sx:{minWidth:"800px"},children:[(0,t.jsx)(u.A,{children:(0,t.jsxs)(n.A,{sx:{backgroundColor:"#f5f5f5",borderBottom:"1px solid #e0e0e0"},children:[(0,t.jsx)(d.A,{padding:"checkbox",children:(0,t.jsx)(p.A,{indeterminate:_.length>0&&_.length<ep.length,checked:ep.length>0&&_.length===ep.length,onChange:e=>{if(e.target.checked)return void M(ep.map(e=>e._id));M([])}})}),(0,t.jsx)(d.A,{sx:{width:"60px",fontWeight:"bold"},children:"Image"}),(0,t.jsx)(d.A,{sx:{width:"120px",fontWeight:"bold"},children:"Title"}),(0,t.jsx)(d.A,{sx:{fontWeight:"bold"},children:"Description"}),(0,t.jsx)(d.A,{sx:{width:"120px",fontWeight:"bold"},children:"Operations"})]})}),(0,t.jsx)(g.A,{children:er||es?Array.from({length:5},(e,i)=>(0,t.jsxs)(n.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:[(0,t.jsx)(d.A,{padding:"checkbox",children:(0,t.jsx)(a.A,{className:"shimmer",sx:{width:"20px",height:"20px",borderRadius:"4px"}})}),(0,t.jsx)(d.A,{sx:{width:"60px"},children:(0,t.jsx)(a.A,{className:"shimmer",sx:{width:"40px",height:"40px",borderRadius:"4px"}})}),(0,t.jsx)(d.A,{sx:{width:"120px"},children:(0,t.jsx)(a.A,{className:"shimmer",sx:{width:"80%",height:"20px",borderRadius:"4px"}})}),(0,t.jsx)(d.A,{children:(0,t.jsx)(a.A,{className:"shimmer",sx:{width:"80%",height:"20px",borderRadius:"4px"}})}),(0,t.jsx)(d.A,{sx:{width:"120px"},children:(0,t.jsx)(a.A,{className:"shimmer",sx:{width:"80px",height:"20px",borderRadius:"4px"}})})]},i)):et?(0,t.jsx)(n.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:(0,t.jsxs)(d.A,{colSpan:5,align:"center",children:["Failed to load careers: ",JSON.stringify(et)]})}):0===ep.length?(0,t.jsx)(n.A,{sx:{borderBottom:"1px solid #e0e0e0"},children:(0,t.jsx)(d.A,{colSpan:5,align:"center",children:"No careers found"})}):ep.map(e=>(0,t.jsxs)(n.A,{selected:ek(e._id),sx:{borderBottom:"1px solid #e0e0e0","&:hover":{backgroundColor:"#f9f9f9"}},children:[(0,t.jsx)(d.A,{padding:"checkbox",children:(0,t.jsx)(p.A,{checked:ek(e._id),onChange:()=>eA(e._id)})}),(0,t.jsx)(d.A,{sx:{width:"60px"},children:(0,t.jsx)("img",{src:e.image,alt:e.title,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"},className:"jsx-c7f37cfc29c28338"})}),(0,t.jsx)(d.A,{sx:{width:"120px"},children:e.title}),(0,t.jsx)(d.A,{sx:{width:"250px"},children:e.description}),(0,t.jsxs)(d.A,{sx:{width:"120px"},children:[(0,t.jsx)(h.A,{onClick:()=>eC(e._id),children:(0,t.jsx)(c.A,{sx:{backgroundColor:"rgba(0, 182, 155, 0.2)",width:"56.78px",height:"27.37px",borderRadius:"4.5px",color:"#00B69B",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700},children:"Edit"})}),(0,t.jsx)(h.A,{onClick:()=>ev(e._id),children:(0,t.jsx)(c.A,{sx:{backgroundColor:"rgba(249, 60, 101, 0.2)",width:"70.97px",height:"27.37px",borderRadius:"4.5px",color:"rgba(248, 0, 54, 1)",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700},children:"Delete"})})]})]},e._id))})]})})})}),(0,t.jsxs)(m.A,{open:O,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(b.A,{children:"Add New Career"}),(0,t.jsx)(j.A,{children:(0,t.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,t.jsx)(A.A,{label:"Title",name:"title",value:L.title,onChange:eg,fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsx)(A.A,{label:"Description",name:"description",value:L.description,onChange:eg,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsx)(A.A,{label:"Image",name:"image",type:"file",onChange:eg,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),V&&(0,t.jsx)(c.A,{color:"error",sx:{mt:1},children:V})]})}),(0,t.jsxs)(k.A,{children:[(0,t.jsx)(x.A,{onClick:()=>D(!1),color:"secondary",children:"Cancel"}),(0,t.jsx)(x.A,{onClick:eb,color:"primary",variant:"contained",disabled:en,children:en?"Saving...":"Save"})]})]}),(0,t.jsxs)(m.A,{open:z,onClose:ew,maxWidth:"sm",fullWidth:!0,children:[(0,t.jsx)(b.A,{children:"Edit Career"}),(0,t.jsx)(j.A,{children:(0,t.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,t.jsx)(A.A,{label:"Title",name:"title",value:U.title,onChange:em,fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsx)(A.A,{label:"Description",name:"description",value:U.description,onChange:em,fullWidth:!0,multiline:!0,rows:4,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}}),(0,t.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[T&&(null==(e=ep.find(e=>e._id===T))?void 0:e.image)&&!U.image&&(0,t.jsx)("img",{src:ep.find(e=>e._id===T).image,alt:U.title,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"},className:"jsx-c7f37cfc29c28338"}),U.image&&(0,t.jsx)("img",{src:URL.createObjectURL(U.image),alt:"New Image Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"},className:"jsx-c7f37cfc29c28338"}),(0,t.jsx)(A.A,{label:"Image",name:"image",type:"file",onChange:em,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#888"},"&.Mui-focused fieldset":{borderColor:"#FF5722"}}}})]}),X&&(0,t.jsx)(c.A,{color:"error",sx:{mt:1},children:X})]})}),(0,t.jsxs)(k.A,{children:[(0,t.jsx)(x.A,{onClick:ew,color:"secondary",children:"Cancel"}),(0,t.jsx)(x.A,{onClick:ej,color:"primary",variant:"contained",disabled:ec,children:ec?"Updating...":"Update"})]})]}),(0,t.jsxs)(m.A,{open:Y,onClose:()=>G(!1),children:[(0,t.jsx)(b.A,{children:"Confirm Delete"}),(0,t.jsxs)(j.A,{children:[(0,t.jsx)(C.A,{children:"Are you sure you want to delete this career? This action cannot be undone."}),eu&&(0,t.jsx)(c.A,{color:"error",sx:{mt:1},children:"Failed to delete career"})]}),(0,t.jsxs)(k.A,{children:[(0,t.jsx)(x.A,{onClick:()=>G(!1),color:"secondary",children:"Cancel"}),(0,t.jsx)(x.A,{onClick:ey,color:"error",variant:"contained",disabled:ef,children:ef?"Deleting...":"Delete"})]})]}),(Z||ec||ef||en)&&(0,t.jsx)(F.A,{})]})}}},e=>{var i=i=>e(e.s=i);e.O(0,[920,516,555,441,684,358],()=>i(3571)),_N_E=e.O()}]);